<script>document.onload = function() {const burger=document.getElementById("burger"),cross=document.getElementById("cross"),nav=document.querySelector("#site-header nav");function toggleNav(){nav.classList.toggle("open")}function fadeInPage(){if(!window.AnimationEvent)return;let e=document.getElementById("fader");e&&e.classList.add("fade-out")}burger.addEventListener("click",toggleNav),cross.addEventListener("click",toggleNav),document.addEventListener("DOMContentLoaded",function(){let e=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(e||!window.AnimationEvent)return;fadeInPage();let t=document.getElementsByTagName("a");for(let n=0;n<t.length;n++)t[n].hostname===window.location.hostname&&t[n].pathname!==window.location.pathname&&t[n].addEventListener("click",function(e){let t=document.getElementById("fader");if(!t)return;let n=e.currentTarget,r=function(){window.location=n.href,t.removeEventListener("animationend",r)};t.addEventListener("animationend",r),e.preventDefault(),t.classList.add("fade-in")})}),window.addEventListener("pageshow",function(e){if(!e.persisted)return;let t=document.getElementById("fader");t&&t.classList.remove("fade-in")}),window.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("post-body");if(!e)return;let t=document.getElementById("toc-container");if(!t)return;let n=new IntersectionObserver(e=>{let n=!1;e.forEach(e=>{let r=e.target.getAttribute("id"),a=t.querySelector(`a[href="#${r}"]`).parentElement;e.intersectionRatio>0&&!n&&(t.querySelectorAll("li.active").forEach(e=>{e.classList.remove("active")}),a.classList.add("active"),n=!0)})});e.querySelectorAll("h2[id]").forEach(e=>{n.observe(e)})});const hrObserver=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.classList.add("show"):e.target.classList.remove("show")})}),hrElements=document.querySelectorAll("hr");hrElements.forEach(e=>{e.classList.add("hidden"),hrObserver.observe(e)}),window.addEventListener("load",()=>{let e=document.getElementById("h1");e&&e.classList.add("show")});}</script>
