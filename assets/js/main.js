const burger=document.getElementById("burger"),cross=document.getElementById("cross"),nav=document.querySelector("#site-header nav");function toggleNav(){nav.classList.toggle("open")}function fadeInPage(){if(!window.AnimationEvent)return;let e=document.getElementById("fader");e&&e.classList.add("fade-out")}burger.addEventListener("click",toggleNav),cross.addEventListener("click",toggleNav),document.addEventListener("DOMContentLoaded",function(){let e=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(e||!window.AnimationEvent)return;fadeInPage();let t=document.getElementsByTagName("a");for(let n=0;n<t.length;n++)t[n].hostname===window.location.hostname&&t[n].pathname!==window.location.pathname&&t[n].addEventListener("click",function(e){let t=document.getElementById("fader");if(!t)return;let n=e.currentTarget,r=function(){window.location=n.href,t.removeEventListener("animationend",r)};t.addEventListener("animationend",r),e.preventDefault(),t.classList.add("fade-in")})}),window.addEventListener("pageshow",function(e){if(!e.persisted)return;let t=document.getElementById("fader");t&&t.classList.remove("fade-in")}),window.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("post-body");if(!e)return;const t=document.getElementById("toc-container");if(!t)return;const n=[],o=new IntersectionObserver((e=>{e.forEach((e=>{const o=e.target.getAttribute("id"),r=t.querySelector(`a[href="#${o}"]`).parentElement;if(e.boundingClientRect.top<=0)n.includes(r)||(n.push(r),c());else{const e=n.indexOf(r);-1!==e&&(n.splice(e,1),c())}}))}));function c(){t.querySelectorAll("li.active").forEach((e=>{e.classList.remove("active")})),n.length>0&&n[0].classList.add("active")}e.querySelectorAll("h2[id]").forEach((e=>{o.observe(e)}))}));;const hrObserver=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.classList.add("show"):e.target.classList.remove("show")})}),hrElements=document.querySelectorAll("hr");hrElements.forEach(e=>{e.classList.add("hidden"),hrObserver.observe(e)}),window.addEventListener("load",()=>{let e=document.getElementById("h1");e&&e.classList.add("show")});